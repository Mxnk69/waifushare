<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .form-container {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }
        .form-container h2 {
            margin-top: 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input[type="text"],
        .form-group input[type="password"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .form-group input[type="submit"] {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .form-group input[type="submit"]:hover {
            background-color: #0056b3;
        }
        .form-group .error-message {
            color: red;
            font-size: 0.875em;
        }
        .form-group .forgot-password {
            text-align: right;
            font-size: 0.875em;
        }
        &.has-icon {
        &::before {
          font-family: "FontAwesome";
          position: absolute;
          line-height: 3rem;
          top: 0;
          left: 0;
          width: 3rem;
          text-align: center;
          z-index: 2;
          color: darken(#d8dbe8,10%);
          pointer-events: none;
          transition: color 0.2s;
          animation: none;
        }
    
        &.checkbox, .form-field, label.movable,  {
          padding-left: 3rem;
        }
      }
    
      &.moved {
        &::before {
          color: #3b93f7;
          animation: iconPinch 0.3s ease-in-out;
        }
    
        label.movable {
          top: -1.5rem;
          height: 1rem;
          line-height: 1.5rem;
          font-size: 0.8rem;
          font-weight: 600;
          padding-left: 0;
    
          &::after {
            content: ":";
          }
        }
      }
    
      &.invalid {
        label {
          color: #e66051;
        }
    
        .error-message {
          transform: scale(1);
        }
    
        &::before {
          color: #e66051;
          animation: iconWiggle 0.4s ease-in-out;
        }
    
        .form-field {
          background: #fff5f5;
          border: 1px solid #e66051;
    
          &:focus {
            box-shadow: 0 0 4px 3px fade(#e66051,20%)
          }
        }
      }
    
      &.select {
        &::after {
          content: " ";
          position: absolute;
          right: 10px;
          border: 4px solid transparent;
          border-top-color: darken(#d8dbe8,10%);
          top: 50%;
          margin-top: -2px;
          z-index: 2;
          transition: border-top-color 0.2s;
        }
    
        .form-field {
          color: white;
          padding-right: 30px;
        }
    
        &.moved .form-field {
          color: inherit;
        }
    
        &.invalid::after {
          border-top-color: #e66051; 
        }
        
        .dropdown {
          position: absolute;
          z-index: 4;
          top: 100%;
          margin-top: 2px;
          left: 5px;
          right: 5px;
          background: #d8dbe8;
          padding: 0;
          border-radius: 4px;
          transform-origin: 50% 0;
          transform: scale(0);
          transition: transform 0.2s;
          box-shadow: 0 2px 10px fade(black,10%);
          padding: 5px 0;
          font-size: 0.9rem;
          line-height: 1.2rem;
          
          &::before {
            content: " ";
            position: absolute;
            top: -12px;
            border: 6px solid transparent;
            border-bottom-color: #d8dbe8;
            left: 50%;
            margin-left: -6px;
          }
          
          &.open {
            transform: scale(1);
          }
          
          li {
            list-style: none;
            
            a {
              display: block;
              padding: 10px 30px;
              text-decoration: none;
              color: #555;
              transition: background-color 0.2s;
              position: relative;
              
              &:hover, &:focus {
                background: fade(white,30%);
                outline: none;
              }
              
              &.selected {
                &::before {
                  content: " ";
                  position: absolute;
                  left: 15px;
                  top: 50%;
                  margin-top: -5px;
                  width: 4px;
                  height: 8px;
                  border: solid #3b93f7;
                  border-width: 0 1px 1px 0;
                  transform: rotate(45deg);
                }
              }
            }
          }
        }
        
        &.dropdown-up .dropdown {
          top: auto;
          bottom: 100%;
          margin-bottom: 2px;
          transform-origin: 50% 100%;
          
          &::before {
            top: auto;
            bottom: -12px;
            border-top-color: #d8dbe8;
            border-bottom-color: transparent;
          }
        }
      }
    }
    
    form.dark {
      .form-group {
        &.moved label {
          color: white;
        }
        &.moved.invalid label {
          color: #f58d81;
        }
        .form-submit, .form-field:not(:focus) {
          box-shadow: 0 2px 10px fade(black,10%);
        }
        .form-field, input[type="checkbox"] {
          border: 1px solid white;
        }
        input[type="checkbox"] + label {
          color: white;
        }
      }
    }
    
    
    .bg-toggle {
      background: #fff;
      border: 1px solid #666;
      color: #666;
      font-weight: 600;
      border-radius: 4px;
      margin: 15px;
      font-size: 12px;
      padding: 3px 5px;
      cursor: pointer;
      transition: all 0.15s;
      opacity: 0.65;
    
      .dark & {
        background: none;
        border-color: white;
        color: white;
      }
    
      &:hover {
        transform: translateY(-1px);
        opacity: 1;
      }
    
      &:active {
        transform: translateY(0);
      }
    }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>Sign In</h2>
       <form action="homepage.html" method="get">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required>
                <div class="error-message" id="username-error">Username is required</div>
            </div>
               <div class="form-group">
                <label for="username">E-mail</label>
                <input type="email" id="username" name="username" required>
                <div class="error-message" id="username-error">Email is required</div>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
                <div class="error-message" id="password-error">Password is required</div>
            </div>
            <div class="form-group">
                <input type="submit" value="Sign In">
                <div class="forgot-password">
                    <a href="/forgot-password">Forgot your password?</a>
                </div>
            </div>
        </form>
    </div>
    <script>
      $(".form-group .form-field").on "focus change", () ->
  unless $(this).closest(".form-group").hasClass("select") and $(this).val() is ""
    $(this).closest(".form-group").addClass("moved")
  return
.on "blur change", () ->
  if $(this).val().trim() is "" 
    $(this).closest(".form-group").removeClass("moved")
  return
.on "change keypress", () ->
  $(this).closest(".invalid").removeClass "invalid"
  return
    
window.emailRegex = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;

$("form").on "submit", (e) ->
  valid = true;
  form = $(this)
  form.find(".invalid").removeClass("invalid")
  form.find(".required").each () ->
    field = $(this)
    val = field.val().trim()
    if val is "" or (field.attr("type") is "email" and !emailRegex.test(val))
      valid = false;
      field.closest(".form-group").addClass "invalid"
      field.focus()
      return false
  if !valid
    e.preventDefault()
  else
    alert(form.serialize())
    e.preventDefault()
  return
    
$("form .error-message").on "click", () ->
  $(this).closest(".invalid").removeClass "invalid"
  return

$(".bg-toggle").on "click", () ->
  $('body,form').toggleClass('dark')
  return

if !(/Mobi/.test(navigator.userAgent))
  $(".form-group.select select").on "mousedown touchstart focus", (e) ->
    e.preventDefault()
    isOpen = $(this).siblings(".dropdown").hasClass "open"
    $(".form-group .dropdown").removeClass "open"
    if isOpen isnt true
      $(this).siblings(".dropdown").addClass("open")
    $(this).blur().siblings(".dropdown").find("a.selected").focus()
    return
  .each () ->
    options = $(this).find "option"
    dropdown = $("<ul></ul>").addClass "dropdown"
    options.each () ->
      optionValue = $(this).attr("value")
      optionText = $(this).text()
      li = $("<li></li>")
      option = $("<a></a>").attr({"href": "#", "data-val": optionValue}).text(optionText)
      if $(this).attr "selected"
        option.addClass "selected"
      option.on "click", (e) ->
        e.preventDefault()
        dropdown.find(".selected").removeClass("selected")
        $(this).addClass("selected")
        .closest(".form-group")
        .find("select")
        .val($(this).attr("data-val"))
        .trigger("change")
        dropdown.removeClass("open")
        return
      .on "keydown", (e) ->
        key = if e.keyCode then e.keyCode else e.which
        if key is 40
          $(this).closest("li").next("li").find("a").focus()
        else if key is 38
          $(this).closest("li").prev("li").find("a").focus()
        return
      li.append option
      dropdown.append li
    $(this).closest(".form-group").append dropdown
    return

$(document).on "click", (e) ->
  unless $(e.target).closest(".form-group.select").find(".dropdown.open").length
    $(".form-group .dropdown").removeClass "open"

</script>
</body>
</html>
